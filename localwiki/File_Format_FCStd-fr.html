<html><head><title>File Format FCStd/fr</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link type='text/css' href='wiki.css' rel='stylesheet'></head><body><h1>File Format FCStd/fr</h1></div>

<div id="mw-content-text" lang="fr" dir="ltr" class="mw-content-ltr"><hr/><div class="mw-parser-output"><p>Un projet FreeCAD, est en fait une série de fichiers textes normaux, qui contiennent toujours un fichier document <b><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Extensible_Markup_Language">.xml</a></b>, <b>GuiDocument.xml Document.xml </b> et, éventuellement plusieurs fichiers de données <b>PartShape3.brp Points3 . . .</b>, plus une vignette au format <a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Portable_Network_Graphics">.PNG</a> le tout étant compressé dans un fichier <a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/ZIP_(format_de_fichier)">.zip</a> auquel on remplace l'extension en <b>.FCStd</b>.
</p>
<div id="toc" class="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Composantes_du_fichier_.FCStd"><span class="tocnumber">1</span> <span class="toctext">Composantes du fichier .FCStd</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Contenu_du_fichier_.fcstd"><span class="tocnumber">2</span> <span class="toctext">Contenu du fichier .fcstd</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Document.xml"><span class="tocnumber">2.1</span> <span class="toctext">Document.xml</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Exemple_de_Document.xml"><span class="tocnumber">2.1.1</span> <span class="toctext">Exemple de Document.xml</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#GuiDocument.xml"><span class="tocnumber">2.2</span> <span class="toctext">GuiDocument.xml</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Thumbnails.2Fthumbnail.png"><span class="tocnumber">2.3</span> <span class="toctext">Thumbnails/thumbnail.png</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Templates.2F.2A.svg"><span class="tocnumber">2.3.1</span> <span class="toctext">Templates/*.svg</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#.2A.brep"><span class="tocnumber">2.4</span> <span class="toctext">*.brep</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Structure"><span class="tocnumber">2.5</span> <span class="toctext">Structure</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Modifier_le_source_du_fichier_.FCStd"><span class="tocnumber">3</span> <span class="toctext">Modifier le source du fichier .FCStd</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Autres"><span class="tocnumber">4</span> <span class="toctext">Autres</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Composantes_du_fichier_.FCStd">Composantes du fichier .FCStd</span></h2>
<p>le fichier .FCStd est un fichier zip standard contenant <a href="#Contenu_du_fichier_.fcstd"> un ou plusieurs</a> fichiers dans une <a href="#Structure"> Structure</a> spécifique. En tant que tel, il est possible de décompresser un fichier .FCStd aide d'un outil de décompression zip, mais des précautions doivent être prises lors de la reconstruction du fichier&#160;;FCStd. FreeCAD possède un "Utilitaire de projet" pour reconstruire les fichiers FCStd, son utilisation est décrite dans <a href="#Changez_la_source_du_fichier_.FCStd">#Changez la source du fichier .FCStd</a> ci-dessous.
</p>
<h2><span class="mw-headline" id="Contenu_du_fichier_.fcstd">Contenu du fichier .fcstd</span></h2>
<h3><span class="mw-headline" id="Document.xml">Document.xml</span></h3>
<p>C'est le fichier <b><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/.xml">.xml</a></b> principal, décrivant tous les objets à l'intérieur d'un document FreeCAD, c'est-à-dire la définition géométrique, et, les paramètres des objets, mais pas leur représentation visuelle. Si FreeCAD est exécuté en mode console, (sans l'interface graphique), c'est ce document <b><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/.xml">.xml</a></b> qui sera utilisé.
</p>
<h5><span class="mw-headline" id="Exemple_de_Document.xml">Exemple de Document.xml</span></h5>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre> &lt;?xml version='1.0' encoding='utf-8'?>
 &lt;!--
 FreeCAD Document, see http://free-cad.sourceforge.net for more informations...
 -->
 &lt;Document SchemaVersion="4">
    &lt;Properties Count="9">
       &lt;Property name="Comment" type="App::PropertyString">
          &lt;String value=""/>
       &lt;/Property>
       &lt;Property name="Company" type="App::PropertyString">
          &lt;String value=""/>
       &lt;/Property>
       &lt;Property name="CreatedBy" type="App::PropertyString">
          &lt;String value=""/>
       &lt;/Property>
       &lt;Property name="CreationDate" type="App::PropertyString">
          &lt;String value="Fri Jan 29 15:14:38 2010 "/>
       &lt;/Property>
       &lt;Property name="FileName" type="App::PropertyString">
          &lt;String value="/tmp/test.FCStd"/>
       &lt;/Property>
       &lt;Property name="Id" type="App::PropertyString">
          &lt;String value="201b746f-a1ed-4297-bf3d-65d5ec11abe0"/>
       &lt;/Property>
       &lt;Property name="Label" type="App::PropertyString">
          &lt;String value="names"/>
       &lt;/Property>
       &lt;Property name="LastModifiedBy" type="App::PropertyString">
          &lt;String value=""/>
       &lt;/Property>
       &lt;Property name="LastModifiedDate" type="App::PropertyString">
          &lt;String value="Fri Jan 29 15:15:21 2010 "/>
       &lt;/Property>
    &lt;/Properties>
    &lt;Objects Count="2">
       &lt;Object type="Mesh::Cube" name="Cube" />
       &lt;Object type="Part::Box" name="Box" />
    &lt;/Objects>
    &lt;ObjectData Count="2">
       &lt;Object name="Cube">
          &lt;Properties Count="7">
             &lt;Property name="Height" type="App::PropertyFloatConstraint">
                &lt;Float value="10"/>
             &lt;/Property>
             &lt;Property name="Label" type="App::PropertyString">
                &lt;String value="Cube"/>
             &lt;/Property>
             &lt;Property name="Length" type="App::PropertyFloatConstraint">
                &lt;Float value="10"/>
             &lt;/Property>
             &lt;Property name="Mesh" type="Mesh::PropertyMeshKernel">
                &lt;Mesh file="MeshKernel.bms"/>
             &lt;/Property>
             &lt;Property name="Placement" type="App::PropertyPlacement">
                &lt;PropertyPlacement Px="0" Py="0" Pz="0" Q0="0" Q1="0" Q2="0" Q3="1"/>
             &lt;/Property>
             &lt;Property name="Pos" type="App::PropertyPlacementLink">
                &lt;Link value=""/>
             &lt;/Property>
             &lt;Property name="Width" type="App::PropertyFloatConstraint">
                &lt;Float value="10"/>
             &lt;/Property>
          &lt;/Properties>
       &lt;/Object>
       &lt;Object name="Box">
          &lt;Properties Count="7">
             &lt;Property name="Height" type="App::PropertyLength">
                &lt;Float value="10"/>
             &lt;/Property>
             &lt;Property name="Label" type="App::PropertyString">
                &lt;String value="Box2"/>
             &lt;/Property>
             &lt;Property name="Length" type="App::PropertyLength">
                &lt;Float value="10"/>
             &lt;/Property>
             &lt;Property name="Placement" type="App::PropertyPlacement">
                &lt;PropertyPlacement Px="0" Py="0" Pz="0" Q0="0" Q1="0" Q2="0" Q3="1"/>
             &lt;/Property>
             &lt;Property name="Pos" type="App::PropertyPlacementLink">
                &lt;Link value=""/>
             &lt;/Property>
             &lt;Property name="Shape" type="Part::PropertyPartShape">
                &lt;Part file="PartShape.brp2"/>
             &lt;/Property>
             &lt;Property name="Width" type="App::PropertyLength">
                &lt;Float value="10"/>
             &lt;/Property>
          &lt;/Properties>
       &lt;/Object>
    &lt;/ObjectData>
 &lt;/Document></pre></div>
<h3><span class="mw-headline" id="GuiDocument.xml">GuiDocument.xml</span></h3>
<p>Il s'agit de l'équivalent <b>GUI</b> (Graphique User Interface) du fichier <b>Document.xml</b>. Pour chaque objet décrit dans le <b>Document.xml</b>, il y a un objet correspondant dans <b>GuiDocument.xml</b>, qui décrit la représentation visuelle de l'objet (couleur, largeur, etc.).
</p>
<h3><span class="mw-headline" id="Thumbnails.2Fthumbnail.png">Thumbnails/thumbnail.png</span></h3>
<p>Il s'agit d'une image miniature (thumbnail) du document de 128 x 128 pixels, qui représente une capture d'écran de la vue 3D pour gagner du temps. Les vignettes sont uniquement générées, si l'option correspondante est activée dans les préférences de FreeCAD, <b>Édition → Préférences... → Général → Document → (case à cocher) Enregistrer la vignette dans le fichier projet lors de la sauvegarde du document</b>.
</p>
<h4><span class="mw-headline" id="Templates.2F.2A.svg">Templates/*.svg</span></h4>
<p>Les fichiers <b><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Svg">.svg</a></b> résultants, sont stockés dans le dossiers "modèles", et, sont utilisés dans le <a href="https://www.freecadweb.org/wiki/index.php?title=Drawing_Module/fr" title="Drawing Module/fr">Module Drawing</a>.
</p>
<h3><span class="mw-headline" id=".2A.brep">*.brep</span></h3>
<p>Ce sont les formes de <b><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/BRep">.brep</a></b> de tous les objets, qui ont une forme dans le <b>Document.xml</b>. Même s'il est paramétrique, chaque objet, a sa forme, stocké comme un fichier individuel <b><a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/BRep">.brep</a></b>, donc, on y accède par des composants sans devoir recalculer la forme.
</p>
<h3><span class="mw-headline" id="Structure">Structure</span></h3>
<p>Structure typique d'un fichier .FCStd:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre> --File.fcstd
  |
  --Document.xml
  --GuiDocument.xml
   |
   --Thumbnails
    |
    --thumbnail.png
   |
   --Templates
    |
    --MyPage.svg
  --Shape1.brep
  --Shape2.brep
  --etc...</pre></div>
<h2><span class="mw-headline" id="Modifier_le_source_du_fichier_.FCStd">Modifier le source du fichier .FCStd</span></h2>
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;"><br /><b>ATTENTION TRAVAILLEZ TOUJOURS SUR UNE COPIE DE VOTRE PROJET&#160;!</b><br /><br /></div>
<p><br />
Il est possible de modifier le source d'un fichier .FCStd mais la procédure n'est pas sans risques c'est pour cela qu'il faut toujours travailler sur une <b>copie</b>.
</p><p>Après avoir fait une <b>copie</b> de votre projet, procédez comme suit&#160;:
</p><p>Créez un nouveau répertoire et placez votre copie dans ce répertoire (il peut y avoir beaucoup de fichiers dans votre FCStd).
</p>
<ul><li> Allez dans <b>Menu &gt; Outils &gt; Utilitaire de projet... Extraire le projet</b> </li></ul>
<p><a href="https://www.freecadweb.org/wiki/index.php?title=File:Project_utility_fr.png" class="image"><img alt="Project utility fr.png" src="240px-Project_utility_fr.png" width="240" height="158" srcset="/wiki/images/thumb/2/29/Project_utility_fr.png/360px-Project_utility_fr.png 1.5x, /wiki/images/2/29/Project_utility_fr.png 2x" /></a>
</p>
<ul><li> Source&#160;: Donnez le chemin de votre copie à décompresser.</li>
<li> Destination&#160;: Donnez le chemin pour les fichiers décompressés.</li>
<li> Cliquez sur <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">Extraire</span></li>
<li> Allez dans votre répertoire et ouvrez les deux fichiers <b>GuiDocument.xml</b> et <b>Document.xml</b> à l'aide de <a rel="nofollow" class="external text" href="http://notepad-plus-plus.org/">Notepad++</a> (Windows) (Notepad permet de modifier un mot dans tous les documents ouverts).</li>
<li><b>GuiDocument.xml</b>&#160;: contient tous les renseignements de votre projet relatifs à l'interface, affichage dans la Vue combinée, la configuration de FreeCAD . . .
<ul><li>Exemple avec <b>Text004</b></li></ul></li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;ViewProvider name="Text004">
&lt;Properties Count="9">
&lt;Property name="DisplayMode" type="App::PropertyEnumeration">
&lt;Integer value="1"/>
&lt;/Property>
&lt;Property name="FontName" type="App::PropertyString">
&lt;String value="Arial"/>
&lt;/Property>
&lt;Property name="FontSize" type="App::PropertyFloat">
&lt;Float value="5.199999809265"/>
&lt;/Property>
&lt;Property name="Justification" type="App::PropertyEnumeration">
&lt;Integer value="0"/>
&lt;/Property>
&lt;Property name="LineSpacing" type="App::PropertyFloat">
&lt;Float value="0.600000023842"/>
&lt;/Property>
&lt;Property name="Rotation" type="App::PropertyAngle">
&lt;Float value="0.000000000000"/>
&lt;/Property>
&lt;Property name="RotationAxis" type="App::PropertyEnumeration">
&lt;Integer value="2"/>
&lt;/Property>
&lt;Property name="TextColor" type="App::PropertyColor">
&lt;PropertyColor value="4294901760"/>
&lt;/Property>
&lt;Property name="Visibility" type="App::PropertyBool">
&lt;Bool value="true"/>
&lt;/Property>
&lt;/Properties>
&lt;/ViewProvider></pre></div>
<ul><li><b>Document.xml</b>&#160;: contient tous les renseignements relatifs aux objets constituants votre projet.
<ul><li>Exemple avec <b>Text004</b></li></ul></li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;Object type="App::Annotation" name="Text004" /></pre></div>
<p><br />
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;Object name="Text004">
&lt;Properties Count="3">
&lt;Property name="Label" type="App::PropertyString">
&lt;String value="Text004"/>
&lt;/Property>
&lt;Property name="LabelText" type="App::PropertyStringList">
&lt;StringList count="1">
&lt;String value="135"/>
&lt;/StringList>
&lt;/Property>
&lt;Property name="Position" type="App::PropertyVector">
&lt;PropertyVector valueX="-30.000000000000" valueY="26.000000000000" valueZ="0.000000000000"/>
&lt;/Property>
&lt;/Properties>
&lt;/Object></pre></div>
<ul><li> Les renseignements comme&#160;:</li></ul>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>&lt;VectorList file="Points1"/> 
&lt;ColorList file="DiffuseColor"/> 
&lt;Mesh file="MeshKernel.bms"/> 
&lt;Part file="PartShape.brp2"/>
. . . .</pre></div>
<ul><li> ainsi que d'autres définitions contenants <b>file=</b> sont reliées a un de ces fichiers et si vous modifiez par exemple "<b>DiffuseColor</b>" dans <b>&lt;ColorList file="DiffuseColor"/&gt;</b> vous devez aussi modifier le nom du fichier pour la correspondance.</li>
<li> Une fois que le mot à modifier est repéré, faites "<b>Recherche</b>" (votre mot) et "<b>Remplacer par</b>" (votre nouveau mot) et cliquez sur <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">Remplacez dans tous les documents ouverts</span> et votre changement se fera de la même manière dans les deux fichiers <b>GuiDocument.xml</b> et <b>Document.xml</b>.</li>
<li> Quand les modification sont terminées, retournez à l'outil <b>Menu &gt; Outils &gt; Utilitaire de projet... Créer un projet</b></li>
<li> Source&#160;: Donnez le chemin du fichier que vous venez de modifier et qui est à reconstituer.</li>
<li> Destination&#160;: Donnez le chemin du fichier FCStd à reconstituer.</li>
<li> Cliquez sur <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">...</span> dans la nouvelle fenêtre cliquez sur <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">Créez un nouveau dossier</span> (pour éviter les erreurs de réécriture du fichier) et vous validez. Cliquez sur <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">Créer</span> vous pouvez cocher la case "Charger le fichier de projet après la création".</li>
<li> Si vous avez coché la case "Charger le fichier de projet après la création" votre projet se chargera dans FreeCAD.</li>
<li> <b>PS&#160;:</b> Il faut absolument qu'il y ai concordance entre les documents GuiDocument.xml, Document.xml et les fichiers sans quoi il y aura des erreurs dans votre fichier FCStd. C'est pour cela qu'il faut toujours travailler sur une copie de votre projet.</li></ul>
<h2><span class="mw-headline" id="Autres">Autres</span></h2>
<p>Ici, un utilitaire convertisseur de fichiers <a href="https://www.freecadweb.org/wiki/index.php?title=ImageConv/fr" title="ImageConv/fr">ImageConv</a>.
</p>
<div style="clear:both"></div>
</div>



</div>

</div><div class="printfooter">
Online version: "<a dir="ltr" href="https://www.freecadweb.org/wiki/index.php?title=File_Format_FCStd/fr&amp;oldid=155723">http://www.freecadweb.org/wiki/index.php?title=File_Format_FCStd/fr&amp;oldid=155723</a>"</div>
<div id="catlinks" class="catlinks" data-mw="interface"></div><div class="visualClear"></div>
</div>
</div>
<div id="mw-navigation">
<h2>Navigation menu</h2>

</body></html>