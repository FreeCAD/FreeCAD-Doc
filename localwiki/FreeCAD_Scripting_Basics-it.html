<html><head><title>FreeCAD Scripting Basics/it</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link type='text/css' href='wiki.css' rel='stylesheet'></head><body><h1>FreeCAD Scripting Basics/it</h1></div>

<div id="mw-content-text" lang="it" dir="ltr" class="mw-content-ltr"><hr/><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Script_Python_in_FreeCAD"><span class="tocnumber">1</span> <span class="toctext">Script Python in FreeCAD</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#L.27interprete"><span class="tocnumber">1.1</span> <span class="toctext">L'interprete</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Aiuti_di_Python"><span class="tocnumber">1.2</span> <span class="toctext">Aiuti di Python</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Moduli_incorporati_.28Built-in.29"><span class="tocnumber">2</span> <span class="toctext">Moduli incorporati (Built-in)</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Gli_oggetti_App_e_gli_oggetti_GUI"><span class="tocnumber">2.1</span> <span class="toctext">Gli oggetti App e gli oggetti GUI</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Gli_oggetti_del_documento"><span class="tocnumber">2.2</span> <span class="toctext">Gli oggetti del documento</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Utilizzo_di_moduli_aggiuntivi"><span class="tocnumber">3</span> <span class="toctext">Utilizzo di moduli aggiuntivi</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Creare_degli_oggetti"><span class="tocnumber">3.1</span> <span class="toctext">Creare degli oggetti</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Modificare_gli_oggetti"><span class="tocnumber">3.2</span> <span class="toctext">Modificare gli oggetti</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Interrogare_gli_oggetti"><span class="tocnumber">3.3</span> <span class="toctext">Interrogare gli oggetti</span></a></li>
</ul>
</li>
</ul>
</div>

<h3><span class="mw-headline" id="Script_Python_in_FreeCAD">Script Python in FreeCAD</span></h3>
<p>FreeCAD è stato costruito fin dall'inizio per essere totalmente controllato tramite gli script Python.
</p><p>Quasi tutte le parti di FreeCAD, come ad esempio l'interfaccia oppure i contenuti della scena, compresa la rappresentazione di quanto contenuto nelle viste 3D, sono accessibili tramite l'interprete Python incorporato o tramite script personali.
</p><p>Per questo, FreeCAD risulta probabilmente una delle applicazioni ingegneristiche più profondamente personalizzabili oggi disponibili.
</p><p>Allo stato attuale, FreeCAD ha però pochissimi comandi "nativi" per interagire con gli oggetti 3D, soprattutto perché è ancora all'inizio dello sviluppo, ma anche perché i suoi programmatori intendono fornire una piattaforma base per lo sviluppo del CAD piuttosto che un'applicazione per un uso specifico.
</p><p>La facilità d'uso degli script Python all'interno di FreeCAD permette di conoscere velocemente le nuove funzionalità in fase di sviluppo come "utenti esperti", cioè come  utenti che conoscono un po' di programmazione Python.
</p><p>Python è uno dei più popolari linguaggi interpretati, e poiché è generalmente considerato facile da imparare, anche voi potrete produrre presto vostri script all'interno di FreeCAD come "utenti esperti".
</p><p>Se non conoscete ancora Python, vi consigliamo di cercare qualche tutorial su internet e di dare un rapido sguardo alla sua struttura.
</p><p>Python è un linguaggio molto facile da imparare, soprattutto perché può essere eseguito all'interno di un interprete, dove sia i comandi semplici come i programmi completi, possono essere eseguiti "al volo", cioè senza bisogno di compilare nulla.
</p><p>FreeCAD incorpora un interprete Python. Se non vedete la finestra denominata "Console Python" della figura successiva, potete attivarla con Visualizza → Pannelli → Console Python e mostrare l'interprete.
</p>
<h4><span class="mw-headline" id="L.27interprete">L'interprete</span></h4>
<p>Tramite l'interprete, è possibile accedere a tutti i moduli Python installati nel sistema, come pure ai moduli incorporati in FreeCAD e a tutti i moduli aggiuntivi di FreeCAD installati successivamente.
</p><p>La schermata seguente mostra l'interprete Python di FreeCAD:
</p><p><a href="https://www.freecadweb.org/wiki/index.php?title=File:Screenshot_pythoninterpreter.jpg" class="image" title="The FreeCAD Python interpreter"><img alt="The FreeCAD Python interpreter" src="Screenshot_pythoninterpreter.jpg" width="614" height="228" /></a>
</p><p>Tramite l'interprete è possibile eseguire del codice Python e sfogliare le classi e le funzioni disponibili.
</p><p>FreeCAD fornisce un browser delle classi molto utile per esplorare il nuovo mondo di FreeCAD.
</p><p>Quando si digita il nome di una classe nota seguita da un punto (.) (il che significa che si intende completare aggiungendo qualcos'altro alla classe), si apre la finestra del browser delle classi, dove si può navigare tra le sottoclassi e i metodi disponibili.
</p><p>Quando si seleziona una voce, viene visualizzato il testo di aiuto associato (se esiste):
</p><p><a href="https://www.freecadweb.org/wiki/index.php?title=File:Screenshot_classbrowser.jpg" class="image" title="The FreeCAD class browser"><img alt="The FreeCAD class browser" src="Screenshot_classbrowser.jpg" width="614" height="228" /></a>
</p><p>Per verificare questo, iniziate a digitare <b>App.</b> oppure <b>Gui.</b> e osservate cosa succede.
</p><p>Generalmente, in  Python, per esplorare il contenuto dei moduli e delle classi si utilizza il comando <i>print dir()</i>.
</p><p>Ad esempio, digitando <b>print dir()</b> si ottiene l'elenco di tutti i moduli attualmente caricati in FreeCAD e con  <b>print dir(App)</b> si mostra tutto ciò che è contenuto all'interno del modulo App, ecc..
</p><p>Inoltre l'interprete ricorda i codici che vengono digitati. Questa altra utile caratteristica dell'interprete permette di esplorare all'indietro i comandi digitati e di recuperare, attraverso la cronologia, una riga di codice scritta in precedenza.
</p><p>Per navigare nella cronologia dei comandi, basta usare la combinazione di tasti <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">CTRL+UP</span> oppure <span style="background: #DDDDDD; border: 1px solid #888888; padding: 0px 5px 1px 5px;">CTRL+DOWN</span>.
</p><p>Cliccando col tasto destro nella finestra dell'interprete, si rendono disponibili diverse altre opzioni, quali, ad esempio, copiare lo storico (l'intera cronologia, cosa utile quando si desidera sperimentare qualcosa prima di utilizzarla in uno script) oppure inserire un nome di un file con il suo percorso completo.
</p>
<h4><span class="mw-headline" id="Aiuti_di_Python">Aiuti di Python</span></h4>
<p>Nel menu <i>Aiuto</i> di FreeCAD, trovate una voce denominata <i>Moduli Python</i>, essa apre una finestra del browser contenente una documentazione completa, generata in tempo reale, di tutti i moduli Python a disposizione dell'interprete di FreeCAD, compreso Python e i moduli interni di FreeCAD, i moduli installati dal sistema  e i moduli aggiuntivi di FreeCAD.
</p><p>La documentazione disponibile dipende dalla fatica che lo sviluppatore del modulo ha fatto per documentare il proprio codice. I moduli Python hanno la reputazione di essere in genere abbastanza ben documentati. La finestra di FreeCAD deve rimanere aperta perché questo sistema di documentazione funzioni.
</p>
<h3><span class="mw-headline" id="Moduli_incorporati_.28Built-in.29">Moduli incorporati (Built-in)</span></h3>
<p>Dato che FreeCAD è stato progettato per essere eseguito senza una interfaccia grafica (GUI), quasi tutte le sue funzionalità sono divise in due parti: la funzionalità di base, denominata <i>App</i>, e la funzionalità grafica, denominata <i>Gui</i>. Per questo motivo i due principali moduli incorporati nel nostro FreeCAD sono chiamati App e Gui. Questi due moduli sono accessibili, rispettivamente con il nome "FreeCAD" e "FreeCADGui", anche tramite script eseguiti al di fuori dell'interprete.
</p>
<ul><li> Nel modulo <b>App</b>, si trova tutto ciò che riguarda l'applicazione stessa, cioè i metodi per l'apertura o la chiusura di file e documenti, oppure l'impostazione del documento attivo o la visualizzazione dei contenuti.</li></ul>
<ul><li> Nel modulo <b>Gui</b>, si trovano gli strumenti per accedere e gestire gli elementi dell'interfaccia grafica (GUI), cioè gli ambienti di lavoro e le loro barre degli strumenti e, più interessante, la rappresentazione grafica di tutti i contenuti di FreeCAD. </li></ul>
<p>Elencare tutto il contenuto di tali moduli è un lavoro un po' controproducente, in quanto essi crescono molto velocemente seguendo lo sviluppo di FreeCAD.
</p><p>I due strumenti di esplorazione disponibili (il browser delle classi e l'aiuto di Python) dovrebbero dare, in qualsiasi momento, una completa e aggiornata documentazione di questi moduli.
</p>
<h4><span class="mw-headline" id="Gli_oggetti_App_e_gli_oggetti_GUI">Gli oggetti App e gli oggetti GUI</span></h4>
<p>Come abbiamo detto, in FreeCAD, tutto viene separato tra nucleo e rappresentazione. Ciò vale anche per gli oggetti 3D.
</p><p>È possibile accedere alla definizione delle proprietà degli oggetti (chiamate funzioni in FreeCAD) tramite il modulo App, e cambiare il modo in cui gli oggetti vengono riprodotti sullo schermo tramite il modulo Gui.
</p><p>Ad esempio, un parallelepipedo ha delle proprietà che lo definiscono, (cioè larghezza, lunghezza e altezza) che vengono memorizzate in un <i>oggetto App</i> e delle proprietà di rappresentazione, (come il colore delle facce, la modalità di disegno) che sono memorizzate in un corrispondente <i>oggetto Gui</i>.
</p><p>Questo modo di fare le cose consente una vasta gamma di operazioni, come gli algoritmi che funzionano solo sulla parte di definizione delle caratteristiche, senza la necessità di prendersi cura di nessuna parte visiva, e consente anche di reindirizzare il contenuto del documento a applicazioni non-grafiche, quali, ad esempio, elenchi, fogli di calcolo, o analisi degli elementi.
</p><p>Nel documento, per ogni oggetto App, esiste un corrispondente oggetto Gui.
Infatti lo stesso documento possiede sia oggetti App che oggetti Gui.
</p><p>Questo, naturalmente, è valido solo quando si esegue FreeCAD completo di interfaccia grafica. Nella versione riga di comando, senza interfaccia grafica, sono quindi disponibili solo gli oggetti App.
</p><p>Ricordare che la parte Gui degli oggetti viene rigenerata ogni volta che un oggetto App viene indicato "da ricalcolare" (ad esempio quando cambia uno dei suoi parametri), in quanto le modifiche fatte direttamente all'oggetto Gui potrebbero perdersi.
</p><p>Per accedere alla parte App di qualcosa, si digita:
</p>
<pre>myObject = App.ActiveDocument.getObject("ObjectName") </pre>
<p>dove "ObjectName" è il nome del vostro oggetto.
</p><p>Inoltre è possibile digitare:
</p>
<pre>myObject = App.ActiveDocument.ObjectName </pre>
<p>Per accedere alla parte Gui dello stesso oggetto, si digita:
</p>
<pre>myViewObject = Gui.ActiveDocument.getObject("ObjectName") </pre>
<p>dove "ObjectName" è il nome del vostro oggetto.
</p><p>Inoltre è possibile digitare:
</p>
<pre>myViewObject = App.ActiveDocument.ObjectName.ViewObject </pre>
<p>Se non abbiamo GUI (ad esempio, siamo in modalità riga di comando), l'ultima riga non restituirà nulla.
</p>
<h4><span class="mw-headline" id="Gli_oggetti_del_documento">Gli oggetti del documento</span></h4>
<p>In FreeCAD tutto il vostro lavoro si trova all'interno dei documenti.
</p><p>Un documento contiene la geometria e può essere salvato in un file. Si  possono avere simultaneamente più documenti aperti.
</p><p>Il documento, come la geometria contenuta all'interno, ha oggetti App e oggetti Gui. L'oggetto App contiene le definizioni della geometria reale, mentre l'oggetto Gui contiene i diversi punti di vista del documento.
</p><p>È possibile aprire più finestre, ognuna delle quali visualizza il lavoro con un fattore di zoom o un punto di vista diverso. Questi punti di vista fanno tutti parte dell'oggetto Gui del documento.
</p><p>Per accedere alla parte App del documento attualmente aperto (attivo), si digita:
</p>
<pre>myDocument = App.ActiveDocument </pre>
<p>Per creare un nuovo documento, si digita:
</p>
<pre>myDocument = App.newDocument("Document Name") </pre>
<p>Per accedere alla parte Gui del documento attualmente aperto (attivo), si digita:
</p>
<pre>myGuiDocument = Gui.ActiveDocument </pre>
<p>Per accedere alla vista corrente, si digita:
</p>
<pre>myView = Gui.ActiveDocument.ActiveView </pre>
<h3><span class="mw-headline" id="Utilizzo_di_moduli_aggiuntivi">Utilizzo di moduli aggiuntivi</span></h3>
<p>I moduli FreeCAD e FreeCADGui sono responsabili esclusivamente della creazione e della gestione degli oggetti nel documento di FreeCAD.
</p><p>Essi in realtà non fanno nulla che riguardi la creazione o la modifica della geometria.
</p><p>Ciò è dovuto al fatto che la geometria può essere di diversi tipi, e quindi la sua gestione è affidata ai moduli aggiuntivi, ognuno di essi ha il compito di gestire uno specifico tipo di geometria.
</p><p>Il modulo <a href="https://www.freecadweb.org/wiki/index.php?title=Part_Module/it" title="Part Module/it">Parte</a> utilizza il kernel OpenCascade, e quindi è in grado di creare e manipolare geometrie di tipo <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Boundary_representation">B-rep</a>, che è appunto il tipo di geometria costruito da OpenCascade.
</p><p>Il modulo <a href="https://www.freecadweb.org/wiki/index.php?title=Mesh_Module/it" class="mw-redirect" title="Mesh Module/it">Mesh</a> è in grado di costruire e modificare gli oggetti mesh.
</p><p>In questo modo, FreeCAD è in grado di gestire un'ampia gamma di tipi di oggetti che possono coesistere nello stesso documento, e nuovi tipi potrebbero essere aggiunti facilmente in futuro.
</p>
<h4><span class="mw-headline" id="Creare_degli_oggetti">Creare degli oggetti</span></h4>
<p>Ogni modulo tratta la propria geometria in un modo specifico, però in genere tutti i moduli possono creare degli oggetti nel documento.
</p><p>Il documento FreeCAD è anche a conoscenza dei tipi di oggetti fornibili dai moduli e il seguente comando:
</p>
<pre>FreeCAD.ActiveDocument.supportedTypes() </pre>
<p>mostra tutti gli oggetti che si possono creare.
</p><p>Come esempio, proviamo a creare un oggetto mesh (trattato dal modulo Mesh) e un oggetto parte (trattato dal modulo Part):
</p>
<pre>myMesh = FreeCAD.ActiveDocument.addObject("Mesh::Feature","myMeshName")
myPart = FreeCAD.ActiveDocument.addObject("Part::Feature","myPartName") </pre>
<p>Il primo parametro è il tipo di oggetto, il secondo il nome dell'oggetto. I nostri due oggetti appaiono quasi come la stessa cosa.
</p><p>Al momento, essi non contengono ancora la geometria, e se li ispezioniamo con dir(myMesh) e con dir(myPart) la maggior parte delle loro proprietà sono le stesse. L'unica differenza è che myMesh ha una proprietà "Mesh" e "Part" ha una proprietà "Shape". È qui che i dati Mesh e Parte vengono memorizzati.
</p><p>Come esempio, creiamo un cubo di tipo Parte e poi lo archiviamo nel nostro oggetto myPart:
</p>
<pre>import Part
cube = Part.makeBox(2,2,2)
myPart.Shape = cube </pre>
<p>Se provate a memorizzare il cubo all'interno della proprietà Mesh dell'oggetto myMesh, vi verrà restituito un messaggio di "errore di tipo". Questo perché le proprietà sono fatte in modo da memorizzare solo uno specifico tipo. Nelle proprietà Mesh di myMesh, è possibile salvare solo elementi creati con il modulo Mesh.
</p><p>Notare che la maggior parte dei moduli hanno anche un collegamento per aggiungere la loro geometria al documento:
</p>
<pre>import Part
cube = Part.makeBox(2,2,2)
Part.show(cube) </pre>
<h4><span class="mw-headline" id="Modificare_gli_oggetti">Modificare gli oggetti</span></h4>
<p>La modifica di un oggetto si esegue nello stesso modo:
</p>
<pre>import Part
cube = Part.makeBox(2,2,2)
myPart.Shape = cube </pre>
<p>Ora cambiamo la sua forma in una più grande:
</p>
<pre>biggercube = Part.makeBox(5,5,5)
myPart.Shape = biggercube </pre>
<h4><span class="mw-headline" id="Interrogare_gli_oggetti">Interrogare gli oggetti</span></h4>
<p>È sempre possibile sapere di che tipo è un oggetto con:
</p>
<pre>myObj = FreeCAD.ActiveDocument.getObject("myObjectName")
print myObj.TypeId </pre>
<p>o sapere se un oggetto è derivato da uno di quelli base (struttura di Parte, struttura di Mesh, etc) con:
</p>
<pre>print myObj.isDerivedFrom("Part::Feature") </pre>
<p>Ora si può davvero iniziare a divertirsi con FreeCAD! Per vedere ciò che si può fare con il <a href="https://www.freecadweb.org/wiki/index.php?title=Part_Module/it" title="Part Module/it">Modulo Parte</a>, leggere la pagina <a href="https://www.freecadweb.org/wiki/index.php?title=Topological_data_scripting/it" title="Topological data scripting/it">Script per ambiente Parte</a>, o la pagina <a href="https://www.freecadweb.org/wiki/index.php?title=Mesh_Scripting/it" title="Mesh Scripting/it">Script per ambiente Mesh</a> per lavorare con il <a href="https://www.freecadweb.org/wiki/index.php?title=Mesh_Module/it" class="mw-redirect" title="Mesh Module/it">Modulo Mesh</a>.
</p><p>Notare che, oltre ai moduli Parte e Mesh che sono i più completi e sono molto utilizzati, anche altri moduli come il <a href="https://www.freecadweb.org/wiki/index.php?title=Draft_Module/it" title="Draft Module/it">Modulo Draft</a> hanno <a href="https://www.freecadweb.org/wiki/index.php?title=Draft_API/it" title="Draft API/it">script</a> API che possono servirvi.
</p><p>Per un elenco completo di tutti i moduli e gli strumenti disponibili, consultare la sezione <a href="https://www.freecadweb.org/wiki/index.php?title=Category:API/it" title="Category:API/it">Category:API/it</a>.
</p>

<div style="clear:both"></div>
</div>



</div>

</div><div class="printfooter">
Online version: "<a dir="ltr" href="https://www.freecadweb.org/wiki/index.php?title=FreeCAD_Scripting_Basics/it&amp;oldid=221189">http://www.freecadweb.org/wiki/index.php?title=FreeCAD_Scripting_Basics/it&amp;oldid=221189</a>"</div>
<div id="catlinks" class="catlinks" data-mw="interface"></div><div class="visualClear"></div>
</div>
</div>
<div id="mw-navigation">
<h2>Navigation menu</h2>

</body></html>