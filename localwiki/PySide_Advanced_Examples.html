<html><head><title>PySide Advanced Examples</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link type='text/css' href='wiki.css' rel='stylesheet'></head><body><h1>PySide Advanced Examples</h1></div>

<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Create_Reference_for_the_Main_Window"><span class="tocnumber">2</span> <span class="toctext">Create Reference for the Main Window</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Browse_the_Children_of_the_Main_Window"><span class="tocnumber">3</span> <span class="toctext">Browse the Children of the Main Window</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Add_New_Widget_Manually"><span class="tocnumber">4</span> <span class="toctext">Add New Widget Manually</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Add_New_Widget_by_Creating_UI_Object"><span class="tocnumber">5</span> <span class="toctext">Add New Widget by Creating UI Object</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The purpose of this page is to cover advanced  level examples of the <a href="PySide.html" title="PySide">PySide</a> GUI manager (there are accompanying pages <a href="PySide_Beginner_Examples.html" title="PySide Beginner Examples">Beginner PySide Examples</a> and <a href="PySide_Medium_Examples.html" title="PySide Medium Examples">Medium PySide Examples</a>).
</p><p>By using the PySide module from inside FreeCAD, you have full control over its interface. You can for example:
</p>
<ul><li> Add your own panels, widgets and toolbars</li>
<li> Add or hide elements to existing panels</li>
<li> Change, redirect or add connections between all those elements</li></ul>
<h2><span class="mw-headline" id="Create_Reference_for_the_Main_Window">Create Reference for the Main Window</span></h2>
<p>If you want to work on the FreeCAD interface, the very first thing to do is create a reference to the FreeCAD main window:
</p>
<pre>import sys
from PySide import QtGui ,QtCore 
app = QtGui.qApp
mw = FreeCADGui.getMainWindow() </pre>
<h2><span class="mw-headline" id="Browse_the_Children_of_the_Main_Window">Browse the Children of the Main Window</span></h2>
<p>Then, you can for example browse through all the widgets of the interface:
</p>
<pre>for child in mw.children():
   print 'widget name = ', child.objectName(), ', widget type = ', child </pre>
<p>The widgets in a Qt interface are usually nested into "container" widgets, so the children of our main window can themselves contain other children. Depending on the widget type, there are a lot of things you can do. Check the API documentation to see what is possible.
</p>
<h2><span class="mw-headline" id="Add_New_Widget_Manually">Add New Widget Manually</span></h2>
<p>Adding a new widget, for example a dockWidget (which can be placed in one of FreeCAD's side panels) is easy:
</p>
<pre>myWidget = QtGui.QDockWidget()
mw.addDockWidget(QtCore.Qt.RightDockWidgetArea,myWidget) </pre>
<p>You could then add stuff directly to your widget:
</p>
<pre>myWidget.setObjectName("my Nice New Widget")
myWidget.resize(QtCore.QSize(300,100)) # sets size of the widget
label = QtGui.QLabel("Hello World", myWidget) # creates a label
label.setGeometry(QtCore.QRect(2,50,200,24))  # sets its size
label.setObjectName("myLabel") # sets its name, so it can be found by name </pre>
<h2><span class="mw-headline" id="Add_New_Widget_by_Creating_UI_Object">Add New Widget by Creating UI Object</span></h2>
<p>But a preferred method is to create a UI object which will do all of the setup of your widget at once. The big advantage is that such an UI object can be <a href="Dialog_creation.html" title="Dialog creation">created graphically</a> with the Qt Designer program. A typical object generated by Qt Designer is like this:
</p>
<pre>class myWidget_Ui(object):
  def setupUi(self, myWidget):
    myWidget.setObjectName("my Nice New Widget")
    myWidget.resize(QtCore.QSize(300,100).expandedTo(myWidget.minimumSizeHint())) # sets size of the widget

    self.label = QtGui.QLabel(myWidget) # creates a label
    self.label.setGeometry(QtCore.QRect(50,50,200,24)) # sets its size
    self.label.setObjectName("label") # sets its name, so it can be found by name

  def retranslateUi(self, draftToolbar): # built-in QT function that manages translations of widgets
    myWidget.setWindowTitle(QtGui.QApplication.translate("myWidget", "My Widget", None, QtGui.QApplication.UnicodeUTF8))
    self.label.setText(QtGui.QApplication.translate("myWidget", "Welcome to my new widget!", None, QtGui.QApplication.UnicodeUTF8)) </pre>
<p>To use it, you just need to apply it to your freshly created widget like this:
</p>
<pre>app = QtGui.qApp
FCmw = app.activeWindow()
myNewFreeCADWidget = QtGui.QDockWidget() # create a new dckwidget
myNewFreeCADWidget.ui = myWidget_Ui() # load the Ui script
myNewFreeCADWidget.ui.setupUi(myNewFreeCADWidget) # setup the ui
FCmw.addDockWidget(QtCore.Qt.RightDockWidgetArea,myNewFreeCADWidget) # add the widget to the main window </pre>
<div style="clear:both"></div>
</div>



</div>

</div><div class="printfooter">
Online version: "<a dir="ltr" href="https://www.freecadweb.org/wiki/index.php?title=PySide_Advanced_Examples&amp;oldid=145518">http://www.freecadweb.org/wiki/index.php?title=PySide_Advanced_Examples&amp;oldid=145518</a>"</div>
<div id="catlinks" class="catlinks" data-mw="interface"></div><div class="visualClear"></div>
</div>
</div>
<div id="mw-navigation">
<h2>Navigation menu</h2>

</body></html>