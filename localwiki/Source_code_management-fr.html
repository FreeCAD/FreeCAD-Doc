<html><head><title>Source code management/fr</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link type='text/css' href='wiki.css' rel='stylesheet'></head><body><h1>Source code management/fr</h1></div>

<div id="mw-content-text" lang="fr" dir="ltr" class="mw-content-ltr"><hr/>
<div class="mw-parser-output"><p>Notre principal outil de gestion de code est <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Git_%28software%29">git</a>. Cet article explique comment l'utiliser et les règles générales qui s'appliquent dans le cas de FreeCAD. Il est fortement recommandé d'apprendre comment fonctionne git (il existe beaucoup d'informations et de tutoriels à propos de git sur internet) avant de travailler avec le code source de FreeCAD.
</p><p>Il existe également de nombreux bons clients graphiques pour git, comme par exemple <a rel="nofollow" class="external text" href="http://github.com/git-cola/git-cola">git-cola</a>, qui rendent le processus de management des dépôts git plus facile. Il existe également une introduction superficielle au <a rel="nofollow" class="external text" href="Developing_FreeCAD_with_GitKraken.html">"Développement de FreeCad avec GitKraken"</a>  
</p>
<div id="toc" class="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Acc.C3.A8s_au_code_source"><span class="tocnumber">1</span> <span class="toctext">Accès au code source</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#D.C3.A9p.C3.B4t_officiel_Github"><span class="tocnumber">1.1</span> <span class="toctext">Dépôt officiel Github</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Configuration_de_votre_nom_d.27utilisateur_git"><span class="tocnumber">1.2</span> <span class="toctext">Configuration de votre nom d'utilisateur git</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#A_note_about_Remotes"><span class="tocnumber">1.2.1</span> <span class="toctext">A note about Remotes</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#1st_Method:_Fork_on_GitHub_and_clone_your_fork_locally"><span class="tocnumber">1.2.2</span> <span class="toctext">1st Method: Fork on GitHub and clone your fork locally</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Processus_de_d.C3.A9veloppement_Git"><span class="tocnumber">2</span> <span class="toctext">Processus de développement Git</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Ramifications"><span class="tocnumber">2.1</span> <span class="toctext">Ramifications</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Soumettre"><span class="tocnumber">2.2</span> <span class="toctext">Soumettre</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Publication_de_votre_travail_sur_.22sourceforge_repository.22"><span class="tocnumber">2.3</span> <span class="toctext">Publication de votre travail sur "sourceforge repository"</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#R.C3.A9daction_de_bons_messages_de_commit"><span class="tocnumber">2.4</span> <span class="toctext">Rédaction de bons messages de commit</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Advanced_git_operations"><span class="tocnumber">3</span> <span class="toctext">Advanced git operations</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Resolving_Merge_Conflicts"><span class="tocnumber">3.1</span> <span class="toctext">Resolving Merge Conflicts</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Applying_patches_via_git"><span class="tocnumber">3.2</span> <span class="toctext">Applying patches via git</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Apply_a_patch_via_curl"><span class="tocnumber">3.2.1</span> <span class="toctext">Apply a patch via curl</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#What_is_the_latest_FreeCAD_Development_Revision"><span class="tocnumber">3.3</span> <span class="toctext">What is the latest FreeCAD Development Revision</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Alternative_repositories"><span class="tocnumber">4</span> <span class="toctext">Alternative repositories</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Using_git_in_a_Graphical_User_Interface"><span class="tocnumber">5</span> <span class="toctext">Using git in a Graphical User Interface</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Lecture_compl.C3.A9mentaire"><span class="tocnumber">6</span> <span class="toctext">Lecture complémentaire</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Acc.C3.A8s_au_code_source">Accès au code source</span></h2>
<p>Tout le monde peut accéder et obtenir une copie du code source de FreeCAD , mais seulement les managers du projets ont les droits d'écriture. Vous pouvez obtenir une copie du code, l'étudier et le modifier autant que vous le souhaitez, mais si vous voulez faire des modifications que vous souhaitez voir incluses dans les sorties officielles, vous devez effectuer un "pull request" via la section <a rel="nofollow" class="external text" href="http://forum.freecadweb.org/viewforum.php?f=17">"pull requests"</a> du forum FreeCAD.
</p>
<div class="note"><b>NOTE</b>
<p>dans tous les exemples ci-dessous, "GITHUB_USERNAME" represente votre compte GitHub.
</p>
</div>
<p><br />
</p>
<h3><span class="mw-headline" id="D.C3.A9p.C3.B4t_officiel_Github">Dépôt officiel Github</span></h3>
<p>Un façon simple de commencer à travailler avec le code source de FreeCAD est d'utiliser le dépot officle FreeCAD
<b><a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD">https://github.com/FreeCAD/FreeCAD</a></b>
</p>
<h3><span class="mw-headline" id="Configuration_de_votre_nom_d.27utilisateur_git">Configuration de votre nom d'utilisateur git</span></h3>
<p>Les utilisateurs doivent faire un commit vers leur dépôt de projet, en utilisant leur nom d'utilisateur GitHub. 
Si ce n'est pas déjà fait globalement, vous pouvez le régler au niveau local pour le dépôt Git actuel comme ceci&#160;:
</p>
<pre>git config user.name "YOUR NAME"
git config user.email "GITHUB_USERNAME@users.noreply.github.com"
</pre>
<p>Vous pouvez maintenant utiliser une combinaison de commandes "<b>git add</b>" et "<b>git commit</b>" pour créer un, ou plusieurs commits dans votre dépôt local.
</p>
<h4><span class="mw-headline" id="A_note_about_Remotes">A note about Remotes</span></h4>
<p>Please read some <a rel="nofollow" class="external text" href="https://stackoverflow.com/questions/9257533/what-is-the-difference-between-origin-and-upstream-on-github#9257901">background</a> to help you understand better the difference between what <b>origin</b> and <b>upstream</b> mean in the context of git. This section explains how to set the correct upstream and origin remote git repos. 
Essentially: 
</p>
<ul><li> <b>origin</b> = Your fork of the FreeCAD git repo AKA <a rel="nofollow" class="external free" href="https://github.com/GITHUB_USERNAME/FreeCAD.git">https://github.com/GITHUB_USERNAME/FreeCAD.git</a></li>
<li> <b>upstream</b> = The official FreeCAD git repo AKA <a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD.git">https://github.com/FreeCAD/FreeCAD.git</a></li></ul>
<p>This is important to understand because if you git clone directly from upstream then confusingly, your origin will be listed as <a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD.git">https://github.com/FreeCAD/FreeCAD.git</a>
So, based on the above, there are 2 main ways to setup your git environment:
</p>
<ul><li> <a href="/wiki/Source_code_management#Clone_Official_FreeCAD_git_repo_to_your_local_machine" title="Source code management">1st Method: Fork on GitHub and clone your fork locally</a></li>
<li> <a href="/wiki/Source_code_management#Clone_Official_FreeCAD_git_repo_to_your_local_machine" title="Source code management">2nd Method: Clone FreeCAD official directly to your local machine</a></li></ul>
<p>We recommend the 1st method for the reason mentioned above.
</p>
<h4><span class="mw-headline" id="1st_Method:_Fork_on_GitHub_and_clone_your_fork_locally">1st Method: Fork on GitHub and clone your fork locally</span></h4>
<div class="note"><b>Important Note</b>
<p>You will need to re-configure  'remote upstream' as mentioned above in "<a href="/wiki/Source_code_management#A_note_about_Remotes" title="Source code management">A note about Remotes</a>"
</p>
</div>
<p>This method is the recommended way since it takes less steps. You will essentially fork the FreeCAD repo on your own GitHub account and then clone said GitHub fork locally. Then you will set your <b>upstream</b> repo in git. The procedure is as follows:
</p>
<ol>
 <li><a rel="nofollow" class="external text" href="https://github.com/join">Sign up</a> for a GitHub account if you don't already have one </li>
 <li>Go to the FreeCAD repo:  <a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD">https://github.com/FreeCAD/FreeCAD</a></li>
 <li>In the top right of the page find and press the "Fork" button (this will essentially git clone the official FreeCAD repo to your personal GitHub repo: <a rel="nofollow" class="external free" href="https://github.com/GITHUB_USERNAME/FreeCAD.git">https://github.com/GITHUB_USERNAME/FreeCAD.git</a>)  </li>
 <li>On your machine, clone your newly created FreeCAD fork by opening a terminal and typing:
   <pre>git clone https://github.com/GITHUB_USERNAME/FreeCAD.git</pre></li>
 <li>Once the clone process is complete, now set your <b>upstream</b> remote repo (see "<a href="/wiki/Source_code_management#A_note_about_Remotes" title="Source code management">A note about Remotes</a>"). Find out what and where your remote git repositories are set to. Type <b>git remote -v</b> and the output should look similiar to:
   <pre> [foo@bar FreeCAD]$ git remote -v
     originhttps://github.com/GITHUB_USERNAME/FreeCAD.git (fetch)
     originhttps://github.com/GITHUB_USERNAME/FreeCAD.git (push)</pre></li>
 <li>Great. Now set your <b>upstream</b> repo
  <pre>[foo@bar FreeCAD]$ git remote add upstream https://github.com/FreeCAD/FreeCAD.git</pre></li>
 <li>Check your remotes again, they should look similiar to this:
    <pre> [foo@bar FreeCAD]$ git remote -v
    originhttps://github.com/GITHUB_USERNAME/FreeCAD.git (fetch)
    originhttps://github.com/GITHUB_USERNAME/FreeCAD.git (push)
    upstreamhttps://github.com/FreeCAD/FreeCAD.git (fetch)
    upstreamhttps://github.com/FreeCAD/FreeCAD.git (push)</pre></li>
 </li>
  <li>Now we can start developing. Please refer to "<a href="/wiki/Source_code_management#Git_Development_Process" title="Source code management">Git Development Process</a>"</li>
</ol>
<p>Vous pouvez aussi commencer normalement, sans utiliser le bouton "fork"&#160;:
</p>
<ol><li> Clonez le code FreeCAD avec Git</li>
<li> Faites vos changements sur le code source</li>
<li> Créez une nouvelle branche</li>
<li> Extraire cette nouvelle branche (Checkout to that branch)</li>
<li> Soumettre (Commit) vos changement à cette nouvelle branche</li>
<li> Créez-vous un compte sur un serveur Git public (github, gitorious, sourceforge ou n'importe quel autre)</li>
<li> Publiez (Push) votre branche sur ce serveur</li></ol>
<h2><span class="mw-headline" id="Processus_de_d.C3.A9veloppement_Git">Processus de développement Git</span></h2>
<p>Tout d'abord, <b>ne jamais développer sur la branche principale</b>&#160;! Créer une branche locale de développement. 
Vous pouvez apprendre comment ceci <a rel="nofollow" class="external text" href="http://book.git-scm.com/3_basic_branching_and_merging.html">ici</a>.
</p>
<h3><span class="mw-headline" id="Ramifications">Ramifications</span></h3>
<p>Une caractéristique importante de Git, est qu'il est extrêmement facile de travailler avec des branches, et, les fusionner. La meilleure pratique recommande de créer une nouvelle branche à chaque fois que vous voulez travailler sur une nouvelle fonctionnalité.
</p><p>Création d'une branche se fait avec&#160;:
</p>
<pre>git branch myNewBranch
git checkout myNewBranch
</pre>
<p>ou, les deux opérations en un seule&#160;:
</p>
<pre>git checkout -b myNewBranch
</pre>
<p>vous pouvez toujours vérifier, dans quelle branche vous êtes avec&#160;:
</p>
<pre>git branch
</pre>
<h3><span class="mw-headline" id="Soumettre">Soumettre</span></h3>
<p>Une fois que vous avez fait un peu de travail, validez le avec&#160;:
</p>
<pre>git commit -a</pre>
<p>Contrairement à <a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Apache_Subversion">SVN</a>, vous devez informer avec précision les fichiers à envoyer (ou la totalité avec l'option <b>-a</b>). Votre éditeur de texte s'ouvrira, pour vous permettre d'écrire un message de validation.
</p>
<h3><span class="mw-headline" id="Publication_de_votre_travail_sur_.22sourceforge_repository.22">Publication de votre travail sur "sourceforge repository"</span></h3>
<div class="note"><b>Important Note</b>
<p>Si vous avez un developpement que vous voulez voir intégrer au code source de FreeCAD, veuillez poster une note dans la section Pull Request du forum de FreeCAD
</p>
</div>
<p>Après avoir fait des modifications sur votre branche locale, et, l'engager (commit) (cela signifie s'engager <b>localement</b>), vous pouvez envoyer votre référentiel sur le serveur. Cela ouvre votre branche au public, et, permet aux principaux développeurs d'examiner, et, d'intégrer votre branche en "maître" . 
</p>
<pre>git push  &lt;REMOTENAME&gt; &lt;BRANCHNAME&gt; 
git push origin my-branch
</pre>
<p><small>For further info on this subject please read <a rel="nofollow" class="external free" href="https://help.github.com/articles/pushing-to-a-remote/">https://help.github.com/articles/pushing-to-a-remote/</a></small>
</p>
<h3><span class="mw-headline" id="R.C3.A9daction_de_bons_messages_de_commit">Rédaction de bons messages de commit</span></h3>
<p>Vous devriez essayer de travailler en petites sections. Si vous ne pouvez pas résumer vos modifications en une seule phrase, il y a probablement trop longtemps, que vous avez fait un commit. Il est également important de donner une descriptions détaillée, et, utile de votre travail. Pour les messages de commit, FreeCAD a adopté un format qui est mentionné dans le livre <a href="#Lecture_compl.C3.A9mentaire">Git Pro</a>.
</p>
<pre> Court sommaire des changements (50 caractères ou plus)
</pre>
<pre>Si nécessaire, bien détailler les textes explicatifs. Ecrivez-en environ 72 caractères ou plus.
Dans certains cas, la première ligne est considérée comme l'objet (résumé) d'un email, et, le reste du texte comme le corps.
Laisser une ligne blanche pour séparer le résumé, du corps du message (sauf si vous omettez l’entièreté corps);
des outils comme <b>rebase</b> peut se confondre si vous exécutez les deux ensemble.
</pre>
<pre>Les paragraphes supplémentaires, viennent après les lignes vides.
* Les puces sont très bien aussi
- En général, un trait d'union ou un astérisque est utilisé pour la puce, précédé d'un
  espace unique, avec des lignes blanches entre les deux, mais ici les conventions varient.
</pre>
<p>Si vous faites beaucoup de travaux connexes, il a été suggéré <b><a rel="nofollow" class="external text" href="http://forum.freecadweb.org/viewtopic.php?f=10&amp;t=2062&amp;p=14887#p14886">ici</a></b>, que l'on doit faire autant de commits que possible, grand ou petit, dans le sens que vous utilisez des messages avec de courtes phrases.
Lorsque vous souhaitez faire une fusion, faites un journal <b>log master git .. BRANCH</b>, et, utilisez la sortie comme une base, pour la qualité de votre commit message.
Ensuite, lorsque vous effectuez la fusion, utilisez l'option <b>--squash</b>, et, engagez avec le message de validation (commits) de qualité.
Cela vous permettra d'être très libéral avec votre <b>commit</b>, et, aidez à assurer un bon niveau de détails des messages de <b>commit</b> sans faire trop de descriptions distinctes.
</p>
<h2><span class="mw-headline" id="Advanced_git_operations">Advanced git operations</span></h2>
<h3><span class="mw-headline" id="Resolving_Merge_Conflicts">Resolving Merge Conflicts</span></h3>
<ul><li> <a rel="nofollow" class="external text" href="https://git-scm.com/docs/git-merge#_how_conflicts_are_presented">git-scm explanation on how conflicts are presented</a> </li>
<li> <a rel="nofollow" class="external text" href="https://help.github.com/articles/resolving-a-merge-conflict-using-the-command-line/">GitHub article on resolving merge conflicts via the command-line</a></li>
<li> <a rel="nofollow" class="external text" href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_external_merge_tools">Customize your preferred merge tool</a> when you encounter a git conflict.</li></ul>
<h3><span class="mw-headline" id="Applying_patches_via_git">Applying patches via git</span></h3>
<p>Git has the capability to merge patches/diffs. To read more about this read the following reference: <a rel="nofollow" class="external free" href="https://www.drupal.org/node/1399218">https://www.drupal.org/node/1399218</a>
</p>
<ul><li> Useful tip:  Just add .diff or .patch at the end of the URL for a GitHub commit page, Pull Request, or Compare View and it'll show you the plaintext view of that page. Example:</li></ul>
<p>Regular GitHub page: 
<small><a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621</a></small>
</p><p>'Diffed' GitHub page: 
<small><a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.diff">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.diff</a></small>
</p><p>'Patched' GitHub page: 
<small><a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch</a></small>
</p>
<h4><span class="mw-headline" id="Apply_a_patch_via_curl">Apply a patch via curl</span></h4>
<pre>curl <a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch</a> | git apply -
</pre>
<h3><span class="mw-headline" id="What_is_the_latest_FreeCAD_Development_Revision">What is the latest FreeCAD Development Revision</span></h3>
<p>There are 2 ways to do this:
</p>
<ul><li> 1st method: In your cloned git directory type: </li></ul>
<pre>git rev-list --count master
</pre>
<ul><li> 2nd method: Browse <a rel="nofollow" class="external free" href="https://github.com/FreeCAD/FreeCAD">https://github.com/FreeCAD/FreeCAD</a> and read the amount of commits FreeCAD is at.</li></ul>
<h2><span class="mw-headline" id="Alternative_repositories">Alternative repositories</span></h2>
<p>The beauty of git is that everybody can clone a project, and start modifying the code. Several frequent collaborators of the FreeCAD project have their own git repository, where they build up their work before it is ready to be included in the official source code, or simply where they experiment new ideas. In certain cases, you might want to clone your FreeCAD code from one of these, instead of the official repos, to benefit from the changes their users did.
</p><p>Be warned, though, that this is at your own risk, and only the official repository above is fully guaranteed to work and contain clean code.
</p><p>Il est également possible de lier plusieurs dépôts distants avec un seul code local, en utilisant la commande "git remote". C'est pratique pour rester synchronisé avec la branche "master", mais gardez un œil sur le travail des différents dévelopers.
</p>
<h2><span class="mw-headline" id="Using_git_in_a_Graphical_User_Interface">Using git in a Graphical User Interface</span></h2>
<ul><li> <a href="Developing_FreeCAD_with_GitKraken.html" title="Developing FreeCAD with GitKraken">Developing FreeCAD with GitKraken</a></li></ul>
<h2><span class="mw-headline" id="Lecture_compl.C3.A9mentaire">Lecture complémentaire</span></h2>
<ul><li> <a rel="nofollow" class="external text" href="http://spheredev.org/wiki/Git_for_the_lazy">Git for the lazy</a></li>
<li> <a rel="nofollow" class="external text" href="http://progit.org/book/">Git pro on-line book</a></li></ul>
<div style="clear:both"></div>
</div>



</div>

</div><div class="printfooter">
Online version: "<a dir="ltr" href="https://www.freecadweb.org/wiki/index.php?title=Source_code_management/fr&amp;oldid=242583">http://www.freecadweb.org/wiki/index.php?title=Source_code_management/fr&amp;oldid=242583</a>"</div>
<div id="catlinks" class="catlinks" data-mw="interface"></div><div class="visualClear"></div>
</div>
</div>
<div id="mw-navigation">
<h2>Navigation menu</h2>

</body></html>